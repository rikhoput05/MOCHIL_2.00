<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Halaman Utama Mochil</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: url('BG.png') no-repeat center center;
      background-size: cover;
      font-family: sans-serif;
    }

    /* G3 Trigger */
    .g3-icon {
      position: absolute;
      top: 15px;
      right: 10px;
      width: 40px;
      height: auto;
      z-index: 30;
      cursor: pointer;
      opacity: 0.9;
      transition: transform 0.3s ease, right 0.4s ease;
    }
    .g3-icon:hover {
      transform: scale(1.1);
      opacity: 1;
    }
    .g3-icon.shifted {
      right: 25vw; /* ikut bergeser sejauh lebar slide kanan */
    }

    /* Animasi putar 180° sekali */
    @keyframes spinOnce {
      from { transform: rotate(0deg); }
      to   { transform: rotate(180deg); }
    }
    .spinning {
      animation: spinOnce 0.6s linear;
    }

    /* SLIDE kanan */
    .slide-container {
      position: fixed;
      top: 0;
      right: -25vw;
      height: 100vh;
      width: 25vw;
      z-index: 20;
      opacity: 0;
      transition: right 0.4s ease, opacity 0.4s ease;
      background: url('SLIDE.png') no-repeat center center, rgba(255,255,255,0.6);
      background-size: cover;
      background-blend-mode: multiply;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 30px;
    }
    .slide-container.show {
      right: 0;
      opacity: 0.95;
    }

    /* Ikon dalam slide kanan (LB & Rewards) */
    .slide-container img {
      width: 80%;
      height: auto;
      margin: 10px 0;
      cursor: pointer;
      opacity: 0.9;
      transition: transform 0.3s ease, opacity 0.3s ease;
      box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.4); /* bayangan bawah */
      border-radius: 10px;
    }
    .slide-container img:hover {
      transform: scale(1.1);
      opacity: 1;
    }

    /* SLIDE kiri LB */
    .slide-lb {
      position: fixed;
      top: 0;
      left: -75vw;
      height: 100vh;
      width: 75vw;
      z-index: 25;
      opacity: 0;
      transition: left 0.4s ease, opacity 0.4s ease;
      background: url('BGLB.png') no-repeat center center;
      background-size: cover;
    }
    .slide-lb.show {
      left: 0;
      opacity: 1;
    }

    /* SLIDE kiri Rewards */
    .slide-rw {
      position: fixed;
      top: 0;
      left: -75vw;
      height: 100vh;
      width: 75vw;
      z-index: 25;
      opacity: 0;
      transition: left 0.4s ease, opacity 0.4s ease;
      background: url('BGRWRD.png') no-repeat center center;
      background-size: cover;
    }
    .slide-rw.show {
      left: 0;
      opacity: 1;
    }

    /* Dekorasi bawah */
    .decor-container {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 25%;
      overflow: hidden;
    }
    .item {
      position: absolute;
      opacity: 0.9;
      animation: floatRandom 5s infinite ease-in-out;
    }
    @keyframes floatRandom {
      0% { transform: translateY(0) translateX(0); }
      50% { transform: translateY(-10px) translateX(5px); }
      100% { transform: translateY(0) translateX(0); }
    }

    /* Tombol Mulai */
    .start-btn {
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      background: none;
      border: none;
      padding: 0;
      cursor: pointer;
      z-index: 10;
    }
    .start-btn img {
      width: 220px;
      height: auto;
      transition: transform 0.3s ease;
    }
    .start-btn:hover img {
      transform: scale(1.1);
    }
  </style>
</head>
<body>

  <!-- G3 Trigger -->
  <img src="g3.png" alt="Menu" class="g3-icon" id="menuTrigger" />

  <!-- SLIDE kanan -->
  <div class="slide-container" id="slideContainer">
    <img src="LB.png" alt="Trophy" id="lbButton" />
    <img src="rewards.png" alt="Rewards" id="rwButton" />
  </div>

  <!-- SLIDE kiri LB -->
  <div class="slide-lb" id="slideLB"></div>

  <!-- SLIDE kiri Rewards -->
  <div class="slide-rw" id="slideRW"></div>

  <!-- Dekorasi bawah -->
  <div class="decor-container" id="decor"></div>

  <!-- Tombol Mulai -->
  <button class="start-btn" onclick="mulaiGame()">
    <img src="TMBL.png" alt="Mulai Game" />
  </button>

  <script>
    const decorContainer = document.getElementById('decor');
    const totalMochil = 15;
    const totalLove = 15;

    function createItem(src) {
      const img = document.createElement('img');
      img.src = src;
      img.classList.add('item');
      img.style.width = (Math.random() * 40 + 30) + 'px';
      img.style.left = Math.random() * 100 + '%';
      img.style.bottom = (Math.random() * 10) + 'px';
      img.style.animationDuration = (Math.random() * 3 + 3) + 's';
      decorContainer.appendChild(img);
    }
    for (let i = 0; i < totalMochil; i++) createItem('MOCHIL1.png');
    for (let i = 0; i < totalLove; i++) createItem('LOVE.png');

    function mulaiGame() {
      window.location.href = 'game.html';
    }

    // Element references
    const slideContainer = document.getElementById('slideContainer');
    const menuTrigger = document.getElementById('menuTrigger');
    const slideLB = document.getElementById('slideLB');
    const slideRW = document.getElementById('slideRW');
    const lbButton = document.getElementById('lbButton');
    const rwButton = document.getElementById('rwButton');

    // Klik G3 → Slide kanan + rotasi + tutup semua slide kiri jika ditutup
    menuTrigger.addEventListener('click', () => {
      if (!menuTrigger.classList.contains('spinning')) {
        menuTrigger.classList.add('spinning');

        // toggle slide kanan
        slideContainer.classList.toggle('show');
        menuTrigger.classList.toggle('shifted');

        // kalau slide kanan ditutup, tutup semua slide kiri juga
        if (!slideContainer.classList.contains('show')) {
          slideLB.classList.remove('show');
          slideRW.classList.remove('show');
        }

        setTimeout(() => {
          menuTrigger.classList.remove('spinning');
        }, 600);
      }
    });

    // Klik LB → buka slide kiri LB
    lbButton.addEventListener('click', () => {
      slideLB.classList.toggle('show');
      slideRW.classList.remove('show'); // tutup slide RW jika LB dibuka
    });

    // Klik Rewards → buka slide kiri Rewards
    rwButton.addEventListener('click', () => {
      slideRW.classList.toggle('show');
      slideLB.classList.remove('show'); // tutup slide LB jika RW dibuka
    });
  </script>
</body>
</html>
